# ğŸ¨ è¯­éŸ³è½¬æ–‡å­—æ’ä»¶ - TDesign UI é‡æ„æ–¹æ¡ˆ

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

åŸºäºæ‚¨çš„è¦æ±‚ï¼Œæˆ‘å·²ç»å®Œæˆäº†è¯­éŸ³è½¬æ–‡å­—æ¡Œé¢æ’ä»¶çš„å‰ç«¯UIé‡æ„ï¼Œé‡‡ç”¨ **TDesign + React** æŠ€æœ¯æ ˆï¼Œå‚è€ƒ **QQéŸ³ä¹** çš„ç•Œé¢è®¾è®¡é£æ ¼ã€‚

## ğŸ¯ è®¾è®¡ç‰¹è‰²

### âœ¨ QQéŸ³ä¹é£æ ¼è®¾è®¡
- **ç®€æ´åœ†è§’**ï¼šæ‰€æœ‰ç»„ä»¶é‡‡ç”¨åœ†è§’è®¾è®¡ï¼Œè§†è§‰æŸ”å’Œ
- **åˆç†ç•™ç™½**ï¼šå‚è€ƒQQéŸ³ä¹çš„å¸ƒå±€ï¼Œä¿æŒèˆ’é€‚çš„è§†è§‰é—´è·
- **æ¯›ç»ç’ƒæ•ˆæœ**ï¼šä½¿ç”¨backdrop-filterå®ç°ç°ä»£åŒ–æ¯›ç»ç’ƒèƒŒæ™¯
- **ç»¿è‰²ä¸»é¢˜**ï¼šé‡‡ç”¨QQéŸ³ä¹çš„ç»¿è‰²ï¼ˆ#00c756ï¼‰ä½œä¸ºä¸»é¢˜è‰²

### ğŸ›ï¸ ç•Œé¢å¸ƒå±€
- **é¡¶éƒ¨å¯¼èˆªæ **ï¼šLogoã€çŠ¶æ€æ˜¾ç¤ºã€å¼•æ“åˆ‡æ¢ã€è®¾ç½®
- **ä¸­å¤®å†…å®¹åŒº**ï¼šå¤§é¢ç§¯æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæ”¯æŒå®æ—¶æ˜¾ç¤º
- **åº•éƒ¨æ“ä½œæ **ï¼šåœ†å½¢å½•éŸ³æŒ‰é’®ã€æ¸…ç©ºã€å¤åˆ¶ç­‰åŠŸèƒ½

## ğŸ“ æ–‡ä»¶ç»“æ„

```
frontend/
â”œâ”€â”€ package.json              # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ public/
â”‚   â””â”€â”€ index.html            # HTMLæ¨¡æ¿
â””â”€â”€ src/
    â”œâ”€â”€ index.js              # Reactå…¥å£
    â”œâ”€â”€ index.css             # å…¨å±€æ ·å¼
    â”œâ”€â”€ App.jsx               # ä¸»åº”ç”¨ç»„ä»¶
    â”œâ”€â”€ App.css               # Appæ ·å¼
    â””â”€â”€ components/
        â”œâ”€â”€ SpeechApp.jsx     # æ ¸å¿ƒè¯­éŸ³è¯†åˆ«ç»„ä»¶
        â””â”€â”€ SpeechApp.css     # ç»„ä»¶æ ·å¼

webview_integration.py        # PyQt5é›†æˆæ–¹æ¡ˆ
å‰ç«¯é‡æ„è¯´æ˜.md              # ä½¿ç”¨è¯´æ˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…å‰ç«¯ä¾èµ–

```bash
cd frontend
npm install
```

### 2. å¼€å‘æ¨¡å¼è¿è¡Œ

```bash
npm start
```
æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:3000

### 3. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

## ğŸ”— ä¸ PyQt5 é›†æˆ

### æ–¹æ³•ä¸€ï¼šWebViewé›†æˆï¼ˆæ¨èï¼‰

```python
# ä½¿ç”¨æä¾›çš„webview_integration.py
python webview_integration.py
```

### æ–¹æ³•äºŒï¼šä¿®æ”¹ç°æœ‰GUI

å°†ç°æœ‰çš„ `gui_with_engine_selector.py` æ›¿æ¢ä¸ºWebViewï¼š

```python
from PyQt5.QtWebEngineWidgets import QWebEngineView
from PyQt5.QtCore import QUrl

class ModernGUI(QMainWindow):
    def __init__(self):
        super().__init__()
        self.web_view = QWebEngineView()
        self.setCentralWidget(self.web_view)
        
        # åŠ è½½Reactåº”ç”¨
        self.web_view.load(QUrl('http://localhost:3000'))
```

## ğŸ”Œ APIæ¥å£è¯´æ˜

### Python â†’ JavaScript

```javascript
// æ¥æ”¶è¯­éŸ³è¯†åˆ«ç»“æœ
window.speechToTextAPI.onTextRecognized("è¯†åˆ«çš„æ–‡å­—");

// æ›´æ–°çŠ¶æ€
window.speechToTextAPI.onStatusChanged("æ­£åœ¨å½•éŸ³...");

// æ˜¾ç¤ºé”™è¯¯
window.speechToTextAPI.onErrorOccurred("é”™è¯¯ä¿¡æ¯");
```

### JavaScript â†’ Python

```javascript
// å¼€å§‹å½•éŸ³
window.pywebview.api.start_listening('baidu');

// åœæ­¢å½•éŸ³
window.pywebview.api.stop_listening();

// åˆ‡æ¢å¼•æ“
window.pywebview.api.change_engine('google');

// åˆ‡æ¢ç½®é¡¶
window.pywebview.api.toggle_always_on_top(true);
```

## ğŸ¨ ç•Œé¢ç‰¹æ€§

### ğŸ¤ å½•éŸ³æŒ‰é’®
- **é™æ€çŠ¶æ€**ï¼šç»¿è‰²æ¸å˜åœ†å½¢æŒ‰é’®
- **å½•éŸ³çŠ¶æ€**ï¼šçº¢è‰²æ¸å˜ + è„‰å†²åŠ¨ç”»
- **æ‚¬åœæ•ˆæœ**ï¼šè½»å¾®ä¸Šæµ® + é˜´å½±å¢å¼º

### ğŸ“ æ–‡æœ¬ç¼–è¾‘å™¨
- **è‡ªé€‚åº”é«˜åº¦**ï¼šæ ¹æ®å†…å®¹è‡ªåŠ¨è°ƒæ•´
- **å®æ—¶ç»Ÿè®¡**ï¼šæ˜¾ç¤ºå­—ç¬¦æ•°å’Œè¯æ•°
- **ç°ä»£æ»šåŠ¨æ¡**ï¼šè‡ªå®šä¹‰æ ·å¼
- **å ä½æç¤º**ï¼šå‹å¥½çš„ä½¿ç”¨è¯´æ˜

### ğŸ·ï¸ çŠ¶æ€æ ‡ç­¾
- **æˆåŠŸçŠ¶æ€**ï¼šç»¿è‰²æ ‡ç­¾ï¼ˆå‡†å¤‡å°±ç»ªï¼‰
- **è¿›è¡ŒçŠ¶æ€**ï¼šæ©™è‰²æ ‡ç­¾ï¼ˆæ­£åœ¨å½•éŸ³ï¼‰
- **é”™è¯¯çŠ¶æ€**ï¼šçº¢è‰²æ ‡ç­¾ï¼ˆè¯†åˆ«å¤±è´¥ï¼‰

### ğŸ›ï¸ å¼•æ“åˆ‡æ¢
- **ä¸‹æ‹‰èœå•**ï¼šç™¾åº¦ã€Googleã€æœ¬åœ°ä¸‰é€‰é¡¹
- **å½“å‰æ ‡è¯†**ï¼šé«˜äº®æ˜¾ç¤ºå½“å‰é€‰ä¸­å¼•æ“
- **æ— ç¼åˆ‡æ¢**ï¼šä¿æŒç”¨æˆ·æ“ä½œè¿ç»­æ€§

## ğŸ’¡ æ ¸å¿ƒç»„ä»¶è§£æ

### SpeechApp.jsx ä¸»è¦åŠŸèƒ½

```jsx
// ğŸ”— å…³é”®æ¥å£æŒ‚é’©ç‚¹
const startRecording = () => {
  // ä¸Pythonåç«¯é€šä¿¡
  if (window.pywebview) {
    window.pywebview.api.start_listening(engine);
  }
};

// ç›‘å¬Pythonæ¶ˆæ¯
useEffect(() => {
  const handlePythonMessage = (event) => {
    const { type, data } = event.detail;
    // å¤„ç†ä¸åŒç±»å‹çš„æ¶ˆæ¯
  };
  
  window.addEventListener('pythonMessage', handlePythonMessage);
}, []);
```

### çŠ¶æ€ç®¡ç†

```jsx
// ReactçŠ¶æ€ç®¡ç†
const [isRecording, setIsRecording] = useState(false);
const [text, setText] = useState('');
const [status, setStatus] = useState('å‡†å¤‡å°±ç»ª');
const [engine, setEngine] = useState('baidu');
const [isPinned, setIsPinned] = useState(false);
```

## ğŸ­ ä¸»é¢˜å®šåˆ¶

### é¢œè‰²æ–¹æ¡ˆ

```css
:root {
  --primary-color: #00c756;      /* QQéŸ³ä¹ç»¿ */
  --primary-dark: #00a84f;       /* æ·±ç»¿è‰² */
  --background: #f5f7fa;         /* æµ…ç°èƒŒæ™¯ */
  --surface: rgba(255,255,255,0.9); /* æ¯›ç»ç’ƒè¡¨é¢ */
  --text: #1f2937;              /* æ·±è‰²æ–‡å­— */
  --text-secondary: #6b7280;     /* æ¬¡è¦æ–‡å­— */
}
```

### å“åº”å¼è®¾è®¡

- **æ¡Œé¢ç«¯**ï¼šå®Œæ•´åŠŸèƒ½å¸ƒå±€
- **ç§»åŠ¨ç«¯**ï¼šç®€åŒ–å¸ƒå±€ï¼Œå †å å¼æ’åˆ—
- **WebView**ï¼šè‡ªé€‚åº”å®¹å™¨å¤§å°

## ğŸ”§ å¼€å‘ç¯å¢ƒé…ç½®

### VS Code æ¨èæ‰©å±•

```json
{
  "recommendations": [
    "bradlc.vscode-tailwindcss",
    "esbenp.prettier-vscode",
    "ms-vscode.vscode-typescript-next"
  ]
}
```

### ä»£ç æ ¼å¼åŒ–é…ç½®

```json
{
  "semi": true,
  "singleQuote": true,
  "tabWidth": 2,
  "trailingComma": "es5"
}
```

## ğŸš€ éƒ¨ç½²æ–¹æ¡ˆ

### 1. å¼€å‘ç¯å¢ƒ
- Reactå¼€å‘æœåŠ¡å™¨ï¼š`npm start`
- PyQt5åŠ è½½ï¼š`http://localhost:3000`

### 2. ç”Ÿäº§ç¯å¢ƒ
- æ„å»ºReactåº”ç”¨ï¼š`npm run build`
- PyQt5åŠ è½½ï¼šæœ¬åœ°buildæ–‡ä»¶

### 3. æ‰“åŒ…åˆ†å‘
- ä½¿ç”¨PyInstalleræ‰“åŒ…æ•´ä¸ªåº”ç”¨
- åŒ…å«æ„å»ºåçš„å‰ç«¯æ–‡ä»¶

## ğŸ¯ æ ¸å¿ƒä¼˜åŠ¿

### âœ… ç”¨æˆ·ä½“éªŒ
- **ç°ä»£åŒ–ç•Œé¢**ï¼šç¬¦åˆå½“å‰è®¾è®¡è¶‹åŠ¿
- **æµç•…åŠ¨ç”»**ï¼šæå‡æ“ä½œåé¦ˆ
- **ç›´è§‚æ“ä½œ**ï¼šé™ä½å­¦ä¹ æˆæœ¬

### âœ… æŠ€æœ¯ä¼˜åŠ¿
- **ç»„ä»¶åŒ–å¼€å‘**ï¼šæ˜“äºç»´æŠ¤å’Œæ‰©å±•
- **TDesignä½“ç³»**ï¼šå®Œæ•´çš„è®¾è®¡è¯­è¨€
- **æ— ç¼é›†æˆ**ï¼šä¿æŒåŸæœ‰åŠŸèƒ½é€»è¾‘

### âœ… ç»´æŠ¤æ€§
- **æ¨¡å—åŒ–ä»£ç **ï¼šç»“æ„æ¸…æ™°
- **æ¥å£åˆ†ç¦»**ï¼šå‰åç«¯è§£è€¦
- **æ‰©å±•å‹å¥½**ï¼šæ˜“äºæ·»åŠ æ–°åŠŸèƒ½

## ğŸ”® æœªæ¥æ‰©å±•

### è®¡åˆ’åŠŸèƒ½
- [ ] æ·±è‰²æ¨¡å¼åˆ‡æ¢
- [ ] è‡ªå®šä¹‰ä¸»é¢˜é…ç½®
- [ ] å¿«æ·é”®æ”¯æŒ
- [ ] è¯­éŸ³å¯è§†åŒ–
- [ ] å†å²è®°å½•ç®¡ç†

### æŠ€æœ¯å‡çº§
- [ ] TypeScriptæ”¯æŒ
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–
- [ ] æ€§èƒ½ç›‘æ§
- [ ] é”™è¯¯è¿½è¸ª

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š

1. **ä¾èµ–å®‰è£…**ï¼šç¡®ä¿æ‰€æœ‰npmåŒ…å·²å®‰è£…
2. **ç«¯å£å ç”¨**ï¼šç¡®ä¿3000ç«¯å£æœªè¢«å ç”¨
3. **Pythonç¯å¢ƒ**ï¼šç¡®ä¿PyQt5å’ŒWebEngineå·²å®‰è£…
4. **ç½‘ç»œè¿æ¥**ï¼šå¦‚æœä½¿ç”¨å¼€å‘æœåŠ¡å™¨æ¨¡å¼

**è¿™å¥—æ–¹æ¡ˆå®Œå…¨ä¿æŒäº†åŸæœ‰çš„åŠŸèƒ½é€»è¾‘ï¼Œåªæ˜¯å°†ç•Œé¢ç°ä»£åŒ–ï¼Œæä¾›äº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼** ğŸ‰ 